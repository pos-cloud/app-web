<section class="container-fluid">
  <div class="d-flex align-items-center justify-content-between mb-3 flex-wrap">
    <div class="form-group mr-2">
      <label for="branch" class="control-label">
        <b>{{ 'agency' | translate | capitalize }}</b>
      </label>
      <select class="form-control" [(ngModel)]="branchSelectedId">
        <option [ngValue]="null" [disabled]="!allowChangeBranch">Todas</option>
        <option *ngFor="let branch of branches" [ngValue]="branch._id" [disabled]="!allowChangeBranch">
          {{ branch.number }} - {{ branch.name }}
        </option>
      </select>
    </div>

    <div class="form-group mr-2">
      <label for="transactionType" class="control-label">
        <b>Tipo de Transacción</b>
      </label>
      <ng-multiselect-dropdown
        [placeholder]="'Tipo de Transacción'"
        [settings]="dropdownSettings"
        [data]="transactionTypes"
        [(ngModel)]="transactionTypesSelect"
      >
      </ng-multiselect-dropdown>
    </div>

    <div class="form-group mr-2">
      <label class="control-label">
        <b>Estado:</b>
      </label>
      <select class="form-control" [(ngModel)]="statusSelect">
        <option value="">Todos</option>
        <option value="Abierto">Abierto</option>
        <option value="Anulado">Anulado</option>
        <option value="Armando">Armando</option>
        <option value="Cerrado">Cerrado</option>
        <option value="Entregado">Entregado</option>
        <option value="Enviado">Enviado</option>
        <option value="Pago Confirmado">Pago Confirmado</option>
        <option value="Pago Rechazado">Pago Rechazado</option>
        <option value="Pendiente">Pendiente</option>
        <option value="Pendiente de pago">Pendiente de pago</option>
        <option value="Preparando">Preparando</option>
      </select>
    </div>

    <div class="form-group mr-2">
      <label for="dateSelect" class="control-label">
        <b>Por Fecha de:</b>
      </label>
      <select class="form-control" [(ngModel)]="dateSelect">
        <option value="creationDate">Creación</option>
        <option value="updateDate">Modificación</option>
        <option value="endDate2">Finalización</option>
      </select>
    </div>

    <div class="form-group mr-2">
      <label for="startDate" class="control-label">
        <b>{{ 'startDate' | translate | capitalize }}:</b>
      </label>
      <app-date-time-picker [(ngModel)]="startDate" name="activeStartDate"></app-date-time-picker>
    </div>

    <div class="form-group mr-2">
      <label for="endDate" class="control-label">
        <b>{{ 'endDate' | translate | capitalize }}:</b>
      </label>
      <app-date-time-picker [(ngModel)]="endDate" name="activeEndDate"></app-date-time-picker>
    </div>

    <!-- Botón de Actualizar -->
    <div class="form-group ml-auto">
      <label class="control-label"> </label>
      <button class="btn btn-primary" (click)="getArticleRequirements()">
        <i [ngClass]="{ 'fa fa-refresh fa-spin': loading }"></i> {{ 'refresh' | translate | capitalize }}
      </button>
    </div>
  </div>

  <div class="card card-large">
    <div class="card-header">Requisitos de producción</div>
    <div class="card-block table-responsive">
      <table class="table table-striped">
        <thead>
          <tr>
            <ng-container *ngFor="let column of columns">
              <th>{{ column.name | translate | capitalize }}</th>
            </ng-container>
          </tr>
        </thead>

        <tbody>
          <tr *ngIf="loading">
            <td colspan="99" style="padding: 0px">
              <app-progressbar [loading]="loading"></app-progressbar>
            </td>
          </tr>

          <tr *ngFor="let item of data">
            <td *ngFor="let column of columns">
              {{ item[column.name] }}
            </td>
          </tr>

          <tr align="center" *ngIf="(!data || data.length === 0) && !loading">
            <td colspan="10">{{ 'no data found' | translate | capitalize }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</section>
