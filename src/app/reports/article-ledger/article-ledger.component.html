<section class="container-fluid">
  <div class="d-flex align-items-center justify-content-between flex-wrap">
    <div class="form-group mr-2 pt-3">
      <label for="article" class="control-label">
        <b>{{ 'articles' | translate | capitalize }}</b></label
      >
      <app-typeahead-dropdown
        [control]="articleControl"
        [data]="articles"
        [keyField]="'_id'"
        [displayField]="'description'"
        [placeholder]="'Lista de arículos'"
      ></app-typeahead-dropdown>
    </div>

    <div class="form-group mr-2">
      <label for="branch" class="control-label">
        <b>{{ 'agency' | translate | capitalize }}</b>
      </label>
      <app-multi-select-dropdown [data]="branches" [(ngModel)]="branchSelectedId" placeholder="Sucursal">
      </app-multi-select-dropdown>
    </div>

    <div class="form-group mr-2">
      <label for="branch" class="control-label">
        <b>{{ 'deposit' | translate | capitalize }}</b>
      </label>
      <app-multi-select-dropdown [data]="deposits" [(ngModel)]="depositSelectedId" placeholder="Deposito">
      </app-multi-select-dropdown>
    </div>

    <!-- Botón de Actualizar -->
    <div class="form-group ml-auto">
      <label class="control-label"> </label>
      <button class="btn btn-primary" (click)="getReport()">
        <i [ngClass]="{ 'fa fa-refresh fa-spin': loading }"></i> {{ 'refresh' | translate | capitalize }}
      </button>
    </div>
  </div>

  <div class="card bg-light mb-3 p-3" *ngIf="header?.length">
    <div class="d-flex flex-wrap">
      <div class="p-2" *ngFor="let detail of header">
        <strong>{{ detail.label | translate | capitalize }}:</strong> {{ detail.value }}
      </div>
    </div>
  </div>

  <app-data-table-reports
    [data]="data"
    [columns]="columns"
    [totals]="totals"
    [title]="'Kardex artículo'"
    [loading]="loading"
  >
  </app-data-table-reports>
</section>
