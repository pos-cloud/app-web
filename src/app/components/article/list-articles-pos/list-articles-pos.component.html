<section class="container-fluid" *ngIf="userType === 'pos'">
  <div class="row" *ngIf="areArticlesVisible" class="articles-list">
    <!-- Mostrar artículos filtrados -->
    <div *ngFor="let article of filteredArticles">
      <div class="iarticle" (click)="getStructureForStock(article)">
        <div
          class="col-md-2 offset-md-8"
          align="right"
          class="number-price"
          *ngIf="transaction && transaction.type && transaction.type.showPrices"
        >
          <span class="badge badge-info">
            <b *ngIf="transaction.type.transactionMovement.toString() !== 'Venta'">{{
              article.costPrice | currency : 'USD' : 'symbol-narrow' : '1.2-2'
            }}</b>
            <b *ngIf="transaction.type.transactionMovement.toString() === 'Venta'">
              {{
                article.salePrice -
                  (article.salePrice * this.discountCompany) / 100 -
                  (article.salePrice * this.discountCompanyGroup) / 100 | currency : 'USD' : 'symbol-narrow' : '1.2-2'
              }}
            </b>
            <div
              *ngIf="
                (transaction &&
                  transaction.company &&
                  transaction.company.priceList &&
                  transaction.company.priceList._id) ||
                transaction.priceList
              "
            >
              <b>PL:{{ getRealPrice(article) | currency : 'USD' : 'symbol-narrow' : '1.2-2' }} </b>
            </div>
          </span>
        </div>
        <img
          *ngIf="article.picture == 'default.jpg' || article.picture == undefined"
          src="./../../../assets/img/default.jpg"
          height="120"
          width="120"
          alt="{{ article.posDescription || article.description }}"
        />
        <img
          *ngIf="article.picture !== 'default.jpg' && article.picture !== undefined"
          [src]="article.picture"
          (error)="onImageError($event)"
          height="120"
          width="120"
          alt="{{ article.posDescription || article.description }}"
        />
        <div *ngIf="article.posDescription" class="image-title">{{ article.posDescription }}</div>
        <div *ngIf="!article.posDescription" class="image-title">{{ article.description | slice : 0 : 19 }}</div>
        <div id="make" *ngIf="article.make && article.make.visibleSale" class="image-title">
          {{ article.make.description }}
        </div>
      </div>
    </div>

    <!-- Mensaje cuando no hay productos disponibles -->
    <div *ngIf="filteredArticles.length === 0 && !loading" class="no-articles-message">
      <div class="text-center">
        <i class="fas fa-box-open fa-3x text-muted mb-3"></i>
        <h5 class="text-muted">No hay productos disponibles</h5>
        <p class="text-muted">No se encontraron productos en esta categoría o con el filtro aplicado.</p>
      </div>
    </div>
  </div>
</section>
